<script lang="ts" setup>
import { Token } from '@/models/token.model'

const props = defineProps<{
  price: number

  zeroes: boolean

  inAmount: number
  outAmount: number

  loading: boolean

  currentToken: Token
  outToken: Token
}>()
</script>

<template>
  <SwapCard>
    <div class="mb-2 flex flex-row items-center gap-2 text-base font-semibold text-[#E1D33E]">
      Summary <LoadingIcon
        v-if="props.loading"
        dot-class="bg-primary"
        class="scale-75"
      />
    </div>
    <div class="flex items-center justify-between text-[18px] font-semibold tracking-[1.2px]">
      <span class="text-[#A3A5B6]">Price</span>
      <span class="text-[#E2E4E9]">{{ props.inAmount }} {{ props.currentToken.symbol }}</span>
    </div>
    <div class="flex items-center justify-between text-[18px] font-semibold tracking-[1.2px]">
      <span class="text-[#A3A5B6]">You will recieve:</span><span class="text-[#E2E4E9]">
        {{ props.inAmount > 0 && !props.zeroes ? `${outAmount.toFixed(4)} ${props.outToken.symbol} â‰ˆ ${(props.outAmount * props.price).toFixed(4)} ${props.currentToken.symbol}` : `0 ${props.outToken.symbol}` }}
      </span>
    </div>
    <div class="flex items-center justify-between text-[18px] font-semibold tracking-[1.2px]">
      <span class="text-[#A3A5B6]">
        Fee:
      </span>
      <span class="text-[#E1D33E]">
        {{ props.zeroes ? 0 : (props.inAmount * 0.01) }} {{ props.currentToken.symbol }}
      </span>
    </div>
  </SwapCard>
</template>
